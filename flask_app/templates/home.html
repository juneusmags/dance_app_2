<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/hom.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Ubuntu+Mono&display=swap" rel="stylesheet">
    <!--MAIN CSS-->
    <script src="https://kit.fontawesome.com/6342488ad8.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!---BOOTSTRAP-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Home</title>
</head>
<body class = "position-relative">
    
    
    <!----HEADER START-->

    <div class = "bg-white d-flex align-items-center fixed-top shadow" style = "min-height: 56px; z-index: 5;" >
        <div class = "container-fluid">
            <!----NAVBAR-->
            <div class = "row align-items-center">
                <div class="col d-flex align-items-center">
                    <div>
                        <a href = "/home" class = "text-primary" style = "font-size: 2rem;">dancebook</a>
                        <h6><span class = "time"></span>  <span class = "date"></span></h6>
                    </div>
                    <div class="input-group ms-2">
                        <!----MOBILE-->
                        <span class="input-group-prepend d-lg-none">
                            <div class = "input-group-text bg-gray border-0 rounded-circle" style ="min-height: 40px;">
                                <i class="fas fa-search text-muted"></i>
                                
                            </div>
                        </span>


                        <!----DESKTOP-->
                        <span class="input-group-prepend d-none d-lg-block">
                            <div class = "input-group-text bg-gray border-0 rounded-pill" style ="min-height: 40px; min-width: 230px;">
                                <i class="fas fa-search me-2 text-muted"></i>
                                <input class = "m-0 fs-7 text-muted" style = "border:none; background-color:transparent; outline: none;" type = text placeholder="Search"/>
                            </div>
                        </span>
                    </div>
                    
                </div>

                <!----MIDDLE-->

                <div class="col d-none d-lg-flex justify-content-center">
                    <!---HOME ICON-->
                    <div class="mx-4 nav__btn nav__btn-active">
                        <button class="btn px-4">
                            <a href = "/home"><i class="fas fa-home text-muted fs-4"></i></a>
                        </button>
                    </div>
                    <!--FIRE ICON-->
                    <div class="mx-4 nav__btn">
                        <button class="btn px-4">
                            <a href = "/home"><i class="fas fa-fire text-muted fs-4"></i></a>
                        </button>
                    </div>

                    <div class="mx-4 nav__btn">
                        <button class="btn px-4">
                            <a href = "/home"><i class="fas fa-sort-alpha-down text-muted fs-4"></i></a>
                        </button>
                    </div>

                    <div class="mx-4 nav__btn">
                        <button class="btn px-4">
                            <a href = "/home"><i class="fas fa-sort-amount-down-alt text-muted fs-4"></i></a>
                        </button>
                    </div>

                    <div class="mx-4 nav__btn">
                        <button class="btn px-4">
                            <a href = "/home"><i class="fas fa-sort-amount-up-alt text-muted fs-4"></i></a>
                        </button>
                    </div>
                </div>
                <!---MENUS-->
                <div class="col d-flex align-items-center justify-content-end">
                    <!---NAME-->
                    <div class = "d-none d-xl-flex align-items-center justify-content-center">
                        <p class ="m-0">Hello {{user.first_name}}</p>
                    </div>
                    <div class = "d-flex align-items-center justify-content-center p-1 mx-2 bg-light rounded-circle" style = "width: 38px; height: 38px; object-fit: cover;" id="dropDownMenu" data-bs-toggle="dropdown" aria-expanded="false" type = "button">
                        <i class = "fas fa-ellipsis-h"></i>
                    </div>

                    <!---DROPDOWN-->
                   
                        
                      
                        <ul class="dropdown-menu border-0 shadow p-3 overflow-auto" aria-labelledby="dropDownMenu" style= "width :23rem; max-height: 600px;">
                          <li><a class="dropdown-item" href="/profile/{{user.id}}">Profile</a></li>
                          <li><a class="dropdown-item" href="/editprofile/{{user.id}}">Edit Profile</a></li>
                          <li><a class="dropdown-item" href="/logout">Logout</a></li>
                        </ul>
                      
                </div>
                
                
            </div>
           
                
                
            
        </div> 
        
        
        
    </div>

<!----HEADER END-->

<!--BODY START-->
<div class = "main-body">
    <!---SIDEBAR STARTS-->
    <div class = "sidebar">
        <div class = "sidebar-row">
            <i class="fas fa-inbox"></i>
            <h4><a href = "">All Messages</a></h4>
        </div>

        <div class = "sidebar-row">
            <i class="fas fa-envelope"></i>
            <h4><a href = "">Send Message</a></h4>
        </div>


        <div class = "sidebar-row">
            <i class="fas fa-lightbulb" style = "font-size: 46px;"></i>
            <h4><a href = "">All Ideas</a></h4>
        </div>
        
        <div class = "sidebar-row">
            <i class="fas fa-head-side-mask"></i>
            <h4><a href = "">Covid Updates</a></h4>
        </div>
    </div>
    <!---SIDEBAR ENDS-->

    <!---IDEAS START-->
    <div class= "middle">
        <!--TOP IDEAS START-->
        <div class = "top-ideas">
            
                <div class = "story" style = "background-image: url('/static/imgs/damn.png');">
                    
                    
                </div>

                <div class = "story" style = "background-image: url('/static/imgs/damn.png');">
                    
                    
                </div>

                <div class = "story" style = "background-image: url('/static/imgs/damn.png');">
                    
                    
                </div>

                <div class = "story" style = "background-image: url('/static/imgs/damn.png');">
                    
                    
                </div>

                <div class = "story" style = "background-image: url('/static/imgs/damn.png');">
                    
                    
                </div>

                <div class = "story" style = "background-image: url('/static/imgs/damn.png');">
                    
                    
                </div>
            
        </div>
        <!--TOP IDEAS ENDS-->
        <!--CREATE IDEAS START-->
        <div class = "createidea">
            <div class = "idea-top">
                <h1>Create Your Idea</h1>
                <form action = "/createidea" class = "create-form" method = "POST">
                    <input type="text" name = "name" placeholder = "Idea">
                    <input type="text" name = "songs" placeholder = "Songs">
                    <input type="text" name = "costume" placeholder = "Costumes">
                    <input type="text" name = "choreographers" placeholder = "Choreographers">
                    
                    <input class = "createidea-btn" type="submit" value = "Add Idea">
                </form>
            </div>
            <div class = "validations">
                {% with messages = get_flashed_messages() %}     
                    {% if messages %}                           
                        {% for message in messages %}            
                            <p>{{message}}</p>                   
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
            
        </div>
        <!--CREATE IDEAS ENDS-->
        <!--IDEAS POSTS START-->

        {% for one_idea in ideas %}
        <div class = "post">
            
            <div class ="post-top-info">
                <div>
                    <h3>{{one_idea.first_name}}</h3>
                    <p>{{one_idea.created_at}}</p>
                </div>
                <div>
                    {% if one_idea.user_id == user.id %}
                    <a href = "/edit/{{one_idea.id}}"><button class = "delete-idea">Edit Idea</button></a>
                        <a href = "/delete/{{one_idea.id}}"><button class = "delete-idea">Delete Idea</button></a>
                    {%endif%}
                </div>
            </div>
            <div class = "post-bottom">
                <h3>Idea : {{one_idea.name}}</h3><p></p>
                <h3>Songs : {{one_idea.songs}}</h3><p></p>
                <h3>Costumes : {{one_idea.costume}}</h3><p></p>
                <h3>Choreographers : {{one_idea.choreographers}}</h3><p></p>
                
                
                
            </div>
            <div class = "details">
                <h3>likes : {{get_all_likes(one_idea.id)}}</h3>
                <h3>{{get_all_comments_count(one_idea.id)}} comments</h3>
            </div>
            

            <div class = "post-options">
                <div class = "post-option">
                    <div class = "likes">
                        <form action = "/like/{{one_idea.id}}" method ="POST"> 
                            <i class="far fa-thumbs-up"></i>
                            <input type = "submit" value = "Like">
                         </form>
                
                    </div>
                </div>
                <div class = "post-option"> 
                    <form class = "comment-form" action = "/comment/{{one_idea.id}}" method = "POST">
                        <i class="fas fa-comment"></i>
                        <input type = "text" name = "content" class = "comment"  placeholder = "Comment..." />
                        <input class ="comment" type = "submit" value = "Add Comment"/>
                    </form>
                </div>
            </div>

            

            
            <div class = "comments-bottom">
                <h3>Comments : </h3>
                <div class = "comments">

                    {% if get_all_comments(one_idea.id) %}
                        {% for comment in get_all_comments(one_idea.id)%}
                            <p>{{comment.first_name}} : {{comment.content}} {{comment.created_at}} </p>   
                        {% endfor %}
                    {% else %}
                        <p>No comments yet!</p>
                    {% endif %}
                    
                </div>
                        
                
            </div>
            
        </div>
            
        {% endfor %}
        
        
        
    
        </div>
    <!---IDEAS ENDS-->
    <div class = "spotify">
        <iframe src="https://open.spotify.com/embed/playlist/6GF7VWPvJqBzzO6mEoTpzQ?utm_source=generator&theme=0" width="100%" height="1000" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </div>
    
</div>




    <!----BOOTSTRAP-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <script src = "{{ url_for('static', filename='js/home.js') }}"></script>
</body>
</html>